{"version":3,"sources":["tetris/getRandomFigure.js","tetris/api.js","tetris/index.js","../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["getRandomFigure","rand","Math","random","figure","length","round","nawOperand","pyramid","band","hookLeft","hookRight","square","figureS","figureZ","call","name","styleName","y","x","spine","console","log","position","i","checkMap","moveStep","positionX","Tetris","option","root","speed","widthRoot","children","childElementCount","heightRoot","start","positionY","interval","init","gravities","dele","getElementsByClassName","classList","remove","indexCell","colors","getRandomInt","min","max","floor","stepX","stepY","lope","_this","setTimeout","setInterval","goDown","clearInterval","document","addEventListener","event","_clickSorting","keyCode","goLeft","goRight","className","split","check","turningIntoWall","_findClassIn","value","arrCell","clear","push","add","removableRows","heightTabele","widthTabele","checkRow","fillingRow","rowCleaning","indexRowClean","arrayItem","iRow","cellIndex","indexArray","rowClear","indexRow","clearCell","pressDown","trace","Error","e","stack","gameOver","removalCheck","createOperand","_addControls","figures","tetris","getElementById","elementSpeed","fla","querySelectorAll","elementOptions","checkReload","toggleFigures","id","toggle","addFiguresColor","forEach","item","splice","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","overlay","createErrorOverlay","body","appendChild","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"tetris.ba6493ca.js","sourceRoot":"..","sourcesContent":["// ============ Model Block ================\n\nexport default function getRandomFigure() {\n  let rand = 0 + Math.random() * (this.figure.length - 1)\n  rand = Math.round(rand);\n\n  switch (this.figure[rand]) { //'pyramid', 'band', 'hookLeft', 'hookRight', 'square', 'figureS', 'figureZ'\n    case 'pyramid':\n    this.nawOperand = pyramid(this);\n      break;\n    case 'band':\n    this.nawOperand = band(this);\n      break;\n    case 'hookLeft':\n    this.nawOperand = hookLeft(this);\n      break;\n    case 'hookRight':\n    this.nawOperand = hookRight(this);\n      break;\n    case 'square':\n    this.nawOperand = square(this);\n      break;\n    case 'figureS':\n    this.nawOperand = figureS(this);\n      break;\n    case 'figureZ':\n    this.nawOperand = figureZ(this);\n      break;\n    // case 'gameOver':\n    // this.nawOperand = gameOver(this);\n    //   break;\n  }\n}\n\n// function gameOver(call) { // ==\n//   return {\n//     name: 'gameOver',\n//     y: [4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 15],\n//     x: [1, 2, 5, 9, 11, 14, 15, 16, 0, 4, 6, 8, 10, 12, 14, 0, 4, 5, 6, 8, 12, 14, 15, 16, 0, 2, 4, 6, 8, 12, 14, 1, 2, 4, 6, 8, 12, 14, 15, 16, 1, 2, 5, 7, 9, 10, 11, 13, 14, 16, 0, 3, 5, 7, 9, 13, 16, 0, 3, 5, 7, 9, 10, 11, 13, 15, 0, 3, 5, 7, 9, 13, 16, 1, 2, 6, 9, 10, 11, 13, 16],\n//     spine: () => { console.log('spin')}\n//   };\n// }\n\nfunction square(call) { // ==\n  return {\n    name: 'square',\n    styleName: 'purple',\n    y: [0, 0, 1, 1],\n    x: [0, 1, 0, 1],\n    spine: () => { console.log('spin')}\n  };\n}\n\nfunction band(call) {  //  ----\n  return {\n    name: 'band',\n    styleName: 'red',\n    position: 0,\n    x: [0, 0, 0, 0],\n    y: [0, 1, 2, 3],\n    spine: () => {\n      switch (call.nawOperand.position) {\n        case 1:\n        call.nawOperand.position = 0;\n\n        call.nawOperand.x = [0, 0, 0, 0];\n        call.nawOperand.y = [0, 1, 2, 3];\n          break;\n\n        case 0:\n        call.nawOperand.position = 1;\n\n        call.nawOperand.x = [0, 1, 2, 3];\n        call.nawOperand.y = [0, 0, 0, 0];\n          break;\n      }\n\n      for (let i = 0; i < 4; i += 1) {\n        if(call.checkMap()){\n          console.log('spin');\n          call.moveStep();\n          return;\n        }\n        call.positionX -= 1;\n      }\n    }\n  };\n}\n\nfunction pyramid(call) {\n  return {\n    name: 'pyramid',\n    styleName: 'skyblue',\n    position: 0, // 0, 1, 2, 3.\n    y: [0, 0, 0, 1],\n    x: [0, 1, 2, 1],\n    spine: () => {\n      switch (call.nawOperand.position) {\n        case 3:\n        call.nawOperand.position = 0;\n\n        call.nawOperand.y = [0, 0, 0, 1];\n        call.nawOperand.x = [0, 1, 2, 1];\n          break;\n\n        case 0:\n        call.nawOperand.position = 1;\n\n        call.nawOperand.y = [0, 1, 2, 1];\n        call.nawOperand.x = [0, 0, 0, 1];\n          break;\n\n        case 1:\n        call.nawOperand.position = 2;\n\n        call.nawOperand.y = [1, 1, 1, 0];\n        call.nawOperand.x = [0, 1, 2, 1];\n          break;\n\n        case 2:\n        call.nawOperand.position = 3;\n\n        call.nawOperand.y = [0, 1, 2, 1];\n        call.nawOperand.x = [1, 1, 1, 0];\n          break;\n      }\n\n      for (let i = 0; i < 4; i += 1) {\n        if(call.checkMap()){\n          console.log('spin');\n          call.moveStep();\n          return;\n        }\n        call.positionX -= 1;\n      }\n    }\n  };\n}\n\nfunction hookLeft(call) {\n  return {\n    name: 'hookLeft',\n    styleName: 'green',\n    position: 0, // 0, 1, 2, 3.\n    y: [0, 1, 2, 2],\n    x: [1, 1, 1, 0],\n    spine: () => {\n      switch (call.nawOperand.position) {\n        case 3:\n        call.nawOperand.position = 0;\n\n        call.nawOperand.y = [0, 1, 2, 2];\n        call.nawOperand.x = [1, 1, 1, 0];\n          break;\n\n        case 0:\n        call.nawOperand.position = 1;\n\n        call.nawOperand.y = [0, 0, 0, 1];\n        call.nawOperand.x = [0, 1, 2, 2];\n          break;\n\n        case 1:\n        call.nawOperand.position = 2;\n\n        call.nawOperand.y = [0, 1, 2, 0];\n        call.nawOperand.x = [0, 0, 0, 1];\n          break;\n\n        case 2:\n        call.nawOperand.position = 3;\n\n        call.nawOperand.y = [1, 1, 1, 0];\n        call.nawOperand.x = [0, 1, 2, 0];\n          break;\n      }\n\n      for (let i = 0; i < 4; i += 1) {\n        if(call.checkMap()){\n          console.log('spin');\n          call.moveStep();\n          return;\n        }\n        call.positionX -= 1;\n      }\n    }\n  };\n}\n\nfunction hookRight(call) {\n  return {\n    name: 'hookRight',\n    styleName: 'yellow',\n    position: 0, // 0, 1, 2, 3.\n    y: [0, 1, 2, 2],\n    x: [0, 0, 0, 1],\n    spine: () => {\n      switch (call.nawOperand.position) {\n        case 3:\n        call.nawOperand.position = 0;\n\n        call.nawOperand.y = [0, 1, 2, 2];\n        call.nawOperand.x = [0, 0, 0, 1];\n          break;\n\n        case 0:\n        call.nawOperand.position = 1;\n\n        call.nawOperand.y = [0, 0, 0, 1];\n        call.nawOperand.x = [0, 1, 2, 0];\n          break;\n\n        case 1:\n        call.nawOperand.position = 2;\n\n        call.nawOperand.y = [0, 1, 2, 0];\n        call.nawOperand.x = [1, 1, 1, 0];\n          break;\n\n        case 2:\n        call.nawOperand.position = 3;\n\n        call.nawOperand.y = [1, 1, 1, 0];\n        call.nawOperand.x = [0, 1, 2, 2];\n          break;\n      }\n\n      for (let i = 0; i < 4; i += 1) {\n        if(call.checkMap()){\n          console.log('spin');\n          call.moveStep();\n          return;\n        }\n        call.positionX -= 1;\n      }\n    }\n  };\n}\n\nfunction figureZ(call) {\n  return {\n    name: 'figureZ',\n    styleName: 'blue',\n    position: 0, // 0, 1, 2, 3.\n    y: [0, 0, 1, 1],\n    x: [0, 1, 1, 2],\n    spine: () => {\n      switch (call.nawOperand.position) {\n        case 1:\n        call.nawOperand.position = 0;\n\n        call.nawOperand.y = [0, 0, 1, 1];\n        call.nawOperand.x = [0, 1, 1, 2];\n          break;\n\n        case 0:\n        call.nawOperand.position = 1;\n\n        call.nawOperand.y = [0, 1, 1, 2];\n        call.nawOperand.x = [1, 1, 0, 0];\n          break;\n      }\n\n      for (let i = 0; i < 4; i += 1) {\n        if(call.checkMap()){\n          console.log('spin');\n          call.moveStep();\n          return;\n        }\n        call.positionX -= 1;\n      }\n    }\n  };\n}\n\nfunction figureS(call) {\n  return {\n    name: 'figureS',\n    styleName: 'orange',\n    position: 0, // 0, 1, 2, 3.\n    y: [1, 1, 0, 0],\n    x: [0, 1, 1, 2],\n    spine: () => {\n      switch (call.nawOperand.position) {\n        case 1:\n        call.nawOperand.position = 0;\n\n        call.nawOperand.y = [1, 1, 0, 0];\n        call.nawOperand.x = [0, 1, 1, 2];\n          break;\n\n        case 0:\n        call.nawOperand.position = 1;\n\n        call.nawOperand.y = [0, 1, 1, 2];\n        call.nawOperand.x = [0, 0, 1, 1];\n          break;\n      }\n\n      for (let i = 0; i < 4; i += 1) {\n        if(call.checkMap()){\n          console.log('spin');\n          call.moveStep();\n          return;\n        }\n        call.positionX -= 1;\n      }\n    }\n  };\n}\n","export default class Tetris{\n  constructor(option) {\n    this.root = option.root;\n\n    this.figure = option.figure || ['pyramid', 'band', 'hookLeft', 'hookRight', 'square', 'figureS', 'figureZ'];\n\n    this.getRandomFigure = option.getRandomFigure;\n    this.speed = option.speed || 500;\n\n    this.widthRoot = root.children[0].childElementCount - 1;\n    this.heightRoot = root.childElementCount - 1;;\n\n    // this.gameOverPosition = 2 || 2;\n    this.start = true;\n\n    this.nawOperand = null;\n\n    this.positionY = option.positionX || 0;\n    this.positionX = option.positionX || 4;\n    this.interval = null;\n\n    this.init();\n  }\n\n  gameOver() {\n    this.start = false;\n    this.gravities(false);\n    const dele = this.root.getElementsByClassName(this.nawOperand.styleName);\n    dele[0].classList.remove(this.nawOperand.styleName);\n    dele[0].classList.remove(this.nawOperand.styleName);\n    dele[0].classList.remove(this.nawOperand.styleName);\n    dele[0].classList.remove(this.nawOperand.styleName);\n\n    let indexCell = 0; // индекс клетки с масива\n    const y = [4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 15];\n    const x = [1, 2, 5, 9, 11, 14, 15, 16, 0, 4, 6, 8, 10, 12, 14, 0, 4, 5, 6, 8, 12, 14, 15, 16, 0, 2, 4, 6, 8, 12, 14, 1, 2, 4, 6, 8, 12, 14, 15, 16, 1, 2, 5, 7, 9, 10, 11, 13, 14, 15, 0, 3, 5, 7, 9, 13, 15, 0, 3, 5, 7, 9, 10, 11, 13, 14, 0, 3, 5, 7, 9, 13, 15, 1, 2, 6, 9, 10, 11, 13, 15];\n    const colors = ['red', 'green', 'yellow', 'purple', 'skyblue', 'orange', 'blue'];\n\n    function getRandomInt(min, max) {\n      return Math.floor(Math.random() * (max - min)) + min;\n    }\n\n    let stepX = 0;\n    let stepY = 0;\n\n    function lope(_this){\n      if (stepY === y[indexCell] && stepX === x[indexCell]) {\n        _this.root.children[stepY].children[stepX].classList = '';\n        indexCell += 1;\n      } else {\n        _this.root.children[stepY].children[stepX].classList = colors[getRandomInt(0, 7)];\n      }\n\n      stepX += 1;\n\n      if (stepX === 17) {\n        stepX = 0;\n        stepY += 1;\n      }\n\n      setTimeout(() => lope(_this), 20);\n    }\n\n    lope(this);\n  }\n\n  gravities(start) {\n    if (start) {\n      console.log(this.nawOperand);\n      console.log(this.positionX);\n      console.log(this.positionY);\n      this.interval = setInterval(() => {\n        this.goDown();\n      }, this.speed);\n      return\n    }\n\n    clearInterval(this.interval);\n  }\n\n  _addControls() {\n    document.addEventListener('keydown', (event) => this._clickSorting(event.keyCode));\n  }\n\n  _clickSorting(keyCode) {\n    if (!(this.start)) {\n      console.log('gg');\n      return;\n    }\n    switch(keyCode) {\n      case 65:\n      this.goLeft();\n        break;\n\n      case 87:\n      this.nawOperand.spine();\n        break;\n\n      case 68:\n      this.goRight();\n        break;\n\n      case 83:\n      this.goDown();\n        break;\n\n      default:\n      console.log(keyCode);\n        break;\n    }\n  }\n\n  goLeft() {\n    this.positionX -= 1;\n    if(this.checkMap()){\n      this.moveStep();\n      return;\n    }\n    this.positionX += 1;\n  }\n\n  goRight() {\n    this.positionX += 1;\n    if(this.checkMap()){\n      this.moveStep();\n      return;\n    }\n    this.positionX -= 1;\n  }\n\n  goDown() {\n    this.positionY += 1;\n    if(this.checkMap(true)){\n      this.moveStep();\n      return;\n    }\n    this.positionY -= 1;\n  }\n\n  _findClassIn(classList, className) {\n    if (typeof classList === 'string') classList = classList.split(' ');\n    let check = false;\n\n    for (var i = 0; i < classList.length; i += 1) {\n      if (classList[i] === className) check = true;\n    }\n    return check;\n  }\n\n  checkMap(goDown) {\n    if (goDown) {\n      for (let i = 0; i < 4; i += 1){\n        const x = this.positionX + this.nawOperand.x[i];\n        const y = this.positionY + this.nawOperand.y[i];\n\n        if (!this.root.children[y]) {\n          this.turningIntoWall();\n          return false;\n        }\n        const check = this._findClassIn(this.root.children[y].children[x].classList.value, 'wall')\n\n        if (check) {\n          this.turningIntoWall();\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    for (let i = 0; i < 4; i += 1){\n      const x = this.positionX + this.nawOperand.x[i];\n      const y = this.positionY + this.nawOperand.y[i];\n\n      if (!this.root.children[y].children[x]) {\n        return false;\n      }\n\n      const check = this._findClassIn(this.root.children[y].children[x].classList.value, 'wall')\n\n        if (check) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  moveStep() {\n    const arrCell = document.getElementsByClassName(this.nawOperand.styleName);\n    const clear = [];\n\n    for (let i = 0; i < arrCell.length; i++) {\n      const check = this._findClassIn(arrCell[i].classList.value, 'wall');\n\n      if (!check) {\n        clear.push(arrCell[i]);\n      }\n    }\n\n    if (!!clear.length) {\n      for (let i = clear.length - 1; i >= 0; i -= 1) {\n        clear[i].classList.remove(this.nawOperand.styleName);\n      }\n    }\n\n    for (let i = 0; i < 4; i += 1) {\n      const x = this.positionX + this.nawOperand.x[i];\n      const y = this.positionY + this.nawOperand.y[i];\n\n      this.root.children[y].children[x].classList.add(this.nawOperand.styleName);\n    }\n  }\n\n  removalCheck() {\n    let removableRows = [];\n    const root = this.root;\n\n    const heightTabele = root.childElementCount - 1;\n    const widthTabele = root.children[0].childElementCount - 1;\n\n    for (let y = heightTabele; y >= 0; y -= 1) {\n\n      function checkRow() {\n        for (let x = widthTabele; x >= 0; x -= 1){\n          if (!root.children[y].children[x].classList.length) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      const fillingRow = checkRow();\n      if (fillingRow) removableRows.push(y);\n    }\n\n    if (!!removableRows.length) {\n      this.rowCleaning(removableRows);\n    }\n    return true;\n  }\n\n  pressDown(indexRowClean) {\n    let arrayItem = null;\n\n    for (let iRow = indexRowClean - 1; iRow >= 0; iRow -= 1) {\n      arrayItem = this.root.children[iRow].getElementsByClassName('wall');\n\n      if (!arrayItem.length) return;\n\n      for (let i = arrayItem.length - 1; i >= 0; i -= 1) {\n        const classList = arrayItem[i].classList.value;\n        const cellIndex = arrayItem[i].cellIndex;\n\n        arrayItem[i].classList.value = '';\n\n        this.root.children[iRow + 1].children[cellIndex].classList = classList;\n      }\n    }\n  }\n\n  rowCleaning(indexArray) {\n    this.gravities(false);\n\n    let i = 0;\n\n    const rowClear = (indexRow) => {\n      let x = 0;\n\n      const clearCell = () => {\n        this.root.children[indexRow].children[x].classList = '';\n        x += 1;\n\n        if (x <= this.widthRoot) {\n          setTimeout(() => clearCell(), 20);\n        } else {\n          this.pressDown(indexArray[i] + i);\n\n          i += 1;\n\n          if (!!indexArray[i]) {\n            rowClear(indexArray[i] + i);\n          } else {\n            this.gravities(true);\n          }\n        }\n      }\n\n      clearCell();\n    }\n    rowClear(indexArray[i]);\n  }\n\n  turningIntoWall() {\n    function trace() {\n      try {\n        throw new Error('Моя ошибка');\n      }\n      catch(e) {\n        console.log(e.stack);\n      }\n    }\n    trace();\n\n    for (let i = 0; i < 4; i += 1) {\n      const x = this.positionX + this.nawOperand.x[i];\n      const y = this.positionY + this.nawOperand.y[i] - 1;\n\n      if (y === 0) {\n        this.gameOver();\n        return;\n      };\n      this.root.children[y].children[x].classList.add('wall');\n    }\n    const check = this.removalCheck();\n    if (check) this.createOperand();\n  }\n\n  createOperand() {\n    this.positionX = 4;\n    this.positionY = 0;\n\n    this.getRandomFigure();\n    this.moveStep();\n\n    this.positionY = 1;\n  }\n\n  init() {\n    this._addControls();\n\n    this.gravities(true);\n\n    this.getRandomFigure();\n    this.moveStep();\n  }\n}\n","import getRandomFigure from './getRandomFigure';\nimport Tetris from './api';\n\nconst figures = ['band', 'square']; //['band', 'pyramid', 'hookLeft', 'hookRight', 'square', 'figureS', 'figureZ']\n\n\nconst tetris = new Tetris ({\n  root: document.getElementById('root'),\n  getRandomFigure: getRandomFigure,\n  figure: figures,\n  // positionX: document.getElementById('start_position_x'),\n  // positionY: document.getElementById('start_position_y'),\n});\n\n\n\nconst elementSpeed = document.getElementById('speed');\nconst fla = document.querySelectorAll('.options input[type=\"button\"]');\nconst elementOptions = document.getElementById('options');\n\nlet checkReload = false;\n\nelementOptions.addEventListener('mouseenter', (event) => {\n  tetris.gravities(false);\n});\nelementOptions.addEventListener('mouseleave', (event) => {\n  tetris.gravities(true);\n});\n\nelementSpeed.addEventListener('input', () => {\n  console.log(elementSpeed.value);\n});\nelementSpeed.addEventListener('change', () => {\n  tetris.speed = elementSpeed.value;\n});\n\n\nfor (let i = 0; i < fla.length; i += 1) {\n  fla[i].addEventListener('click', ()=> {\n    toggleFigures(fla[i].id);\n    fla[i].classList.toggle('activeFigure');\n  });\n}\n\nfunction addFiguresColor() {\n  figures.forEach((item) => {\n    for (let i = 0; i < 7; i += 1) {\n      if (fla[i].id === item) fla[i].classList.add('activeFigure');\n    }\n  });\n}\n\nfunction toggleFigures(figure) {\n  let clear = true;\n  figures.forEach((item, i) => {\n    if (item === figure) {\n      clear = false;\n\n      figures.splice(i, 1);\n      tetris.figures = figures;\n    }\n  });\n  if (clear) {\n    figures.push(figure);\n    tetris.figures = figures;\n  }\n}\n\naddFiguresColor();\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}